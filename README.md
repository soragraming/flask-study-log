# flask-study-log

## Udemy　講座名: Flask3でのWebアプリケーション開発完全マスター講座！！

        講師名: 松本 直樹

Flaskの基礎からSNS開発まで：Udemyでの学習ログと実装記録

## 📅 2026/02/26

昨日の内容を再度通る予定だったが、基礎を完璧にするよりポートフォリオを充実させる方が優先だと考え、先に進むこととした。理想は基礎１時間、ポートフォリオ１時間。とはいえ、基礎学習の区切りが付かず完走。少しづつ調整予定。

### [yield](01_basic/base6_yeild.py), [yield from](01_basic/base7_yield_from.py), [演習問題3](excersize/base4.py)

- 処理を途中からループさせることができ、メモリ使用量の削減
- yield先がなければStopIteration ( Error )
- 演習問題は難しすぎて一旦、諦めた。

## 📅 2026/02/25

理解度が低いため、明日も継続予定。

### nonlocal変数

- 関数内関数で外側(1つ上)の関数の変数を変更する
- 複数回呼び出す関数の中で、「外側の変数の値を覚えておきたい」とき
- 関数の中で状態(カウントなど)を管理したい時

### 内部関数

- 関数の中に定義した別の関数
- 外側の関数の変数を参照できる`クロージャ`

### [グローバル変数](02_function/base4_global.py)

- 関数の外で定義された変数、プログラム全体で参照可能
- 多用はバグのもと。極力避け、引数と戻り値でデータをやり取りする
- 対義語：ローカル変数

## 📅 2026/02/24

### 関数　[base1](02_function/base1_def.py)

- **関数**:特定のタスクを実行するためのコードのまとまり。

### 関数[base2](02_function/base2_def.py)

- **引数の展開**: `*` や `**` を使って、タプルや辞書をスマートに関数へ渡す方法を習得。
- **アンパック**: 複数の戻り値を一度に変数へ代入するテクニックを実践。

### 関数[base3](02_function/base3_mutable_def.py)

- **イミュータブル**: 変更不可:数値、文字列、タプルなど、関数内で値を変更しても呼び出し元の元の変数は変更されない（値渡し）
- **ミュータブル**: 変更可能:リスト、辞書、セットなど変更される（参照渡し）
- **ミュータブルの罠**:
  - 関数内でリスト（ミュータブル）を操作すると、外側の変数まで書き換わる。
  - 外側を守るには、`.copy()` で新しいオブジェクトを作成し、そちらを操作する必要がある。

## 📅 2026/02/23

### 開発環境の健全化：仮想環境（venv）への移行

これまで Conda の `base` 環境で学習を進めていましたが、ターミナルの表示と実行パスの乖離に違和感を覚え、調査した結果、適切な仮想環境内で作業ができていなかった事実に気づきました。

- **事象**: ターミナルに `(base)` と表示され、システムのPythonが参照されていた。プロジェクトフォルダ内に `.venv` が作成されておらず、VSCodeのインタープリター設定が反映されていなかった。
- **対策**:
  - プロジェクト直下に `.venv` を新規作成。
  - `source .venv/bin/activate` による環境の有効化。
  - `sys.executable` を用いて、実行中のPythonが仮想環境内のもの（`.../flask-study-log/.venv/bin/python`）であることを検証。

#### **今回の学びと改善**

「環境構築のミス」に早期に気づけたことで、ライブラリの依存関係が複雑になる前に環境をクリーンに保つ習慣を身につけることができました。また、`.gitignore` の設定ミス（配置場所の誤り）も同時に発見・修正し、Git管理の精度も向上させました。

### [演習問題3](excersize/base3.py)

- **インデックス調整**: ユーザー入力（1始まり）とリストの添字（0始まり）のズレを `-1` で解消。
- **評価の慣習**: 不合格は "Fail" の頭文字をとって `F` と定義。
- **例外の階層**: `Exception` で一括キャッチせず、`KeyError` 等で個別にハンドリングすることで、デバッグしやすい堅牢なコードを意識した。

## 📅 2026/02/20

### try, except, finally, raise

- try, exceptは飛んできたエラーをキャッチするのに対しraiseは自らのルールを設定する審判のようなもの。
- コード的には問題ないがアプリの使用上、あってはならないことに対してエラーを出せる。
- PasswordTooShortError: パスワードが短い
  EmailAlreadyExistsError: メールの重複
  このように名前を付けておくことで、except PasswordTooShortError: のように、特定のエラーだけを狙い撃ちして「パスワードを長くしてください」といった適切なメッセージを表示できるようになる

### 💡 学びの深掘り：例外の「色分け」

- **なぜ raise を使うのか？**: Pythonの標準エラー（ValueErrorなど）だけでは、アプリ固有の「仕様違反」を表現しきれないため。
- **なぜカスタムクラスを作るのか？**: `except Exception:` という「網」で全てを捕まえるのではなく、特定のエラーだけを個別に処理（ハンドリング）し、適切なレスポンスを返すため。

## 📅 2026/02/19

### 演習問題２(excersize/base2)

#### if,elifの優先順位

- 条件分岐は「より具体的・限定的な条件」から先に記述する
- 5の倍数を15の倍数より先に判定すると、15の倍数のブロックが一生実行されない（デッドコード）。
- 数学的な包含関係を意識し、条件の重なりがある場合は、包含される側（15の倍数）を優先させる。

### セイウチ演算子(base21)

- **記号**: `:=`
- **概要**: 式の中で代入を行う演算子。
- **利点**: `if` や `while` 文の条件式内で値を保持できるため、冗長なコードを削減できる。
- **注意点**: 乱用すると可読性が下がるため、計算結果を再利用する場合などに絞って活用する。

## 📅 2026/02/18

### while文

- 必ず終了条件が存在するようにする。不必要に長く実行されるループは避ける。回数が不明確なループはwhile文、回数が既知のループにはfor文が適している。

### データ構造

| 書き方      | 取り出すもの   | メリット                               |
| :---------- | :------------- | :------------------------------------- |
| for k in d: | キーのみ       | シンプル。必要な時だけd[k]で値を呼ぶ   |
| d.values()  | 値のみ         | キーが不要な計算などに最適。           |
| d.items()   | キーと値のペア | 最もpython的。両方を同時に扱えて効率的 |

### range()関数

- 指定した数字だけループできるシーケンスを返すビルトイン関数。
  　メモリの節約：リストは[0, 1, ..., 999999] と書くと、100万個の数字をすべてメモリ（机の上）に並べます。rangeはrange(1000000) と書くと、「次は1、次は2…」という 「ルール」だけを記憶 しておき、必要になった瞬間にその数字を作る。

### all(),any()関数

- all():反復可能なオブジェクト(list,tuple,setなど)の中のすべての要素が真であるかを判定。バリデーション（入力チェック）に有用。
- any():反復可能なオブジェクト(list,tuple,setなど)の中のいずれかの要素が真であるかを判定。例外検知やフラグ確認に有用。

## 📅 2026/02/17

### 三項演算子(section3_base16)

- if文を数行書くところを１行で済ませられる。(コードの可読性も上がる)

### isinstance(section3_base16)

- ユーザーが入力したデータを受け取る際、数字がほしいところに文字列が送られてくる場合がある。そのままであるとエラーになるため、事前にisinstanceで「数字であるか？」と確認する。子クラスまで考慮するメリットもある。

### == と is の使い分け(section3_base16)

- **== (値の比較)**: データの内容が同じかどうかを確認する。
- **is (同一性の比較)**: メモリ上の「住所（id）」が同じかどうか、つまり「全く同じ実体か」を確認する。
- **実務に多い慣習**:
  - 通常の数値や文字の比較には `==` を使う。
  - `None` かどうかの判定には、高速で安全な `is None` を使う。

## 📅 2026/02/16

### コード補完機能をOFF（settings.json）

これまでも見ないようにしてきたが、設定にてOFFにできることを知り、反映。
基礎学習の際はOFFで運用し、ポートフォリオ作成(見直し)時はONで運用する。

### イミュータブル、ミュータブルについて(base15)

| 種類               | 自分なりの定義           | 注意点                                       |
| :----------------- | :----------------------- | :------------------------------------------- |
| **イミュータブル** | 中身を変えず「作り直す」 | 意図しない書き換えが起きにくい。             |
| **ミュータブル**   | 中身を直接「書き換える」 | 複数の変数で共有していると、連動して変わる。 |

- **再代入と書き換えの違い**:
  - `x = [1, 2]` は「新しいデータの代入」。
  - `x.append(3)` は「既存データの書き換え」。
- **ミュータブルの罠**:
  - `y = x` とした後に `x.append()` すると、`y` も変わる。
  - 意図しない連動を防ぐには、`.copy()` メソッドなどを使って「別の実体」としてコピーする必要がある。

## 📅 2026/02/15

### ⚡️ データ構造によるパフォーマンスの違い（base14）

- **学び**: 100万件のデータ検索において、`list` よりも `set` が圧倒的に高速であることを実験で確認。
- **理由**: セットは内部でハッシュテーブルを使用しており、検索の計算量が $O(1)$ であるため。(ハッシュ；特定のルールで短い数字に変換する仕組みのこと)
- **実戦への応用**: 「特定の要素が含まれているか？」という確認を頻繁に行う処理では、リストではなくセットの採用を検討し、アプリケーションの応答速度を向上させる。
  (セット使用例：会員ランクのチェック)
  (リスト使用例：SNSタイムライン、チャット履歴表示など)
  迷ったら？
  そのデータから「○番目の値は？」「最新の3件は？」と聞く必要があるか？
  YES→リスト
  NO→セット　(重複確認のみ)

### tuple(タプル)

- **定義**: 変更不可能な（Immutable）順序付けられたデータの集まり。
- **リストとの違い**: `()` で記述。一度作成すると、要素の追加・削除・変更ができない。
- **使い分けの基準**:
  - **リスト**: データの追加や削除が頻繁に発生する「動的なデータ」用。
  - **タプル**: 途中で変えたくない設定値や、関数の戻り値など「静的なデータ」用。
- **学び**: 自由度が高いリストだけでなく、あえて「制限」を設けるタプルを使うことで、バグの少ない安全なコードが書けることを知った。

### 💡 タプルの不変性（Immutable）の正体

- **疑問**: `fruits = fruits + ('grape',)` で要素が増えるのはなぜ？
- **答え**: 元のタプルが変化したのではなく、新しく作られたタプルを変数に「再代入」しているだけ。
- **注意点**: 要素1つのタプルを定義する際は `('item',)` のように末尾のカンマが必須。
- **学び**: 「変数が指しているもの（ラベル）」と「データそのもの（実体）」を区別して考える重要性を理解した。

## 📅 2026/02/12

### リストの操作

| メソッド   | 自分なりの定義         | 注意点                                                |
| :--------- | :--------------------- | :---------------------------------------------------- |
| **append** | 1つの要素を末尾に追加  | リストを渡すと「リストの中のリスト」になってしまう。  |
| **extend** | 他のリストと合体させる | 渡したリストの中身を1つずつ取り出して追加してくれる。 |

### 💡 リスト操作の重要ルール

- **破壊的変更**: `append`, `pop`, `remove` などのメソッドは、元のリストを直接書き換える。
- **インデックスの変動**: 要素を削除・挿入すると、それ以降のインデックス（番号）はすべてズレる。
- **教訓**: 連続で操作を行う際は、「今のリストの中身はどうなっているか？」を常に意識する必要がある。

## 📅 2026/02/11

### find,indexの使い分け

find は見つからなくても処理を続けたい柔軟な時に使い、index はデータが存在しないことが異常である場合に、早期にエラーを検知してバグを防ぐために使い分け（接頭辞 r- 「right（右）」の略 rfind や rindex のように、右側（末尾）から検索を開始する。）

### US配列キーボードでの日本語/英語切り替えを効率化。

- **設定内容**: Mac標準機能を利用し、`Caps Lock` キー単体での入力ソース切り替えを有効化。
- **効果**: `Shift + Option + Z/S` という複雑な運指から解放され、コーディング中の思考を妨げない入力環境を構築。
- **気づき**: プログラミング学習において、タイピングのストレスを減らすことは学習密度を上げるための重要な投資だと感じた。

### ⚠️ エラー遭遇と解決

- **事象**: `SyntaxError: invalid syntax` が `for` 文で発生。
- **原因**: `for _i` と書くべきところを `for_i` とスペースなしで記述していた。
- **解決**: 予約語（for）と変数名（\_i）の間に半角スペースを入れることで解消。
- **学び**: Pythonは半角スペース一つで動作が変わる厳格な言語であることを実感。一字一句を丁寧に見直す重要性を学んだ。

## 📅 2026/02/05 学習記録

### 🛠 やったこと

- 基礎文法の学習（再確認含む）

## 📅 2026/02/04 学習記録

### 🛠 やったこと

- Geminiと環境構築について壁打ち

### 💡 トラブル・学び

- 友人に質問するために「どこで詰まっているか」整理するため、Geminiと壁打ちしていると環境構築について理解できた。前日の混乱の原因であった動画講師とのファイル構成の不一致については私の確認する階層が間違いであることが判明した。時間を置くなど落ち着いて問題に向き合う大切さを実感した。相変わらず動画を進められていないが、コツコツ積み上げていく。

| 言葉                   | 定義（イメージ                   | 役割                                                                                                                 | 具体例                                   |
| :--------------------- | :------------------------------- | :------------------------------------------------------------------------------------------------------------------- | :--------------------------------------- |
| **フレームワーク** 　  | **「アプリの型紙」**             | 開発のルールや土台を提供し、効率を上げるも。                                                                         | `Flask`                                  |
| **仮想環境**           | **「独立した作業部屋」**         | プロジェクトごとに環境を隔離し、衝突を防ぐ場所。                                                                     | `flask-study` (Conda)                    |
| **ライブラリ** 　      | **「特定の便利な道具」**         | 誰かが作った便利な機能（部品）の集まり。                                                                             | `NumPy`（計算）, `Requests`（通信）      |
| **パッケージ** 　      | **「道具の詰め合わせ」**         | 複数のライブラリを配布・管理しやすくまとめたもの。                                                                   | `Flask-Admin` (管理画面のセット)         |
| **ターミナル**         | **「命令の窓口」**               | キーボードでコマンドを打ち込み、PCを操作する画面。                                                                   | `Mac純正ターミナル`, `VSCodeターミナル`  |
| **定数**               | **「一度決めたら変えない変数」** | 全大文字で書く。Pythonには機能としての定数はないため「大文字なら書き換えない」というエンジニア同士のお約束（慣習）。 | `TAX_RATE = 0.1`                         |
| **予約語**             | **「Python専用の単語」**         | if, for, tryなど、Python側ですでに役割が決まっている単語。変数名には使えない。                                       | `if`, `True`, `None`                     |
| **f-strings**          | **「便利な文字列の埋め込み」**   | 変数を文字列の中に展開する書き方。デバッグ時は `{val=}` と書くと変数名も一緒に出せて便利。                           | `print(f"{name=}")`                      |
| **浮動小数点数の誤差** | 小数計算で発生するわずかなズレ   | コンピュータが2進数で小数を扱うために発生する。正確な金額計算などでは注意が必要。                                    | `0.01`を100回足しても`1.0`にならない現象 |

## 📅 2026/02/03 学習記録

### 🛠 やったこと

- Minicondaのインストールと環境構築

### 💡 トラブル・学び

- 動画講師と同様に進めていたつもりだったがVScode内のファイル構成が一致せず、焦ってしまい混乱してしまった。根本的に仮想環境について理解できていないため、明日も引き続き作業予定。
  12分の動画講座に90分以上も費やしてしまった。折れずに頑張ろう。

## 📅 2026/02/02 学習記録

### 🛠 やったこと

- GitHubリポジトリの整理（アーカイブ・削除）
- 新規学習用リポジトリ `flask-study-log` の作成
- Udemy講座「Python+FlaskでのWebアプリケーション開発講座」受講開始
- 仮想環境（venv）の構築とライブラリのインストール

### 💡 トラブル・学び

- **Pythonのバージョン違い**: 講師環境は3.12、自分は3.10.7だったが、Flask学習に支障がないことを確認。
- **pipのタイポ**: `numpy` を `nempy` と打ち間違えてインストールしてしまった。
  - **解決策**: `pip uninstall` で環境をクリーンにし、正しくインストールし直した。
  - **教訓**: コマンド実行後のログは、成功していても目を通す癖をつける！
